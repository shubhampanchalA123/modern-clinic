(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,83769,e=>{"use strict";var t,r,n=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=(t=function(e){return n.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&91>e.charCodeAt(2)},r={},function(e){return void 0===r[e]&&(r[e]=t(e)),r[e]});e.s(["default",0,i],83769)},25300,e=>{"use strict";var t=e.i(90577);function r({children:e,className:r="",variant:n="default",...i}){return(0,t.jsx)("button",{className:`px-4 py-2 rounded-md font-medium ${"ghost"===n?"bg-transparent border":"bg-emerald-600 text-white"} ${r}`,...i,children:e})}e.s(["Button",()=>r])},92348,e=>{"use strict";let t=(0,e.i(37127).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>t],92348)},67533,e=>{"use strict";var t=e.i(90577),r=e.i(76097),n=e.i(48519);e.i(29403);var i=e.i(4336),a=e.i(60685),o=e.i(9030);e.i(85915);var s=e.i(55323),l=e.i(43496),d=e.i(25300);let c=[{id:"1-month",title:"1 Month Plan",price:1999,summary:"Starter plan for continuous treatment support",includes:["Doctor consultation","1 Month medication","Basic WhatsApp Support","Weekly follow-up check"]},{id:"3-months",title:"3 Months Plan (Recommended)",price:3499,summary:"Recommended for consistent improvement and monitoring",includes:["Unlimited doctor consultations","3 Months medication","Priority WhatsApp Support","Monthly progress analysis","Personalized treatment adjustments"]},{id:"6-months",title:"6 Months Plan",price:6499,summary:"Long-term treatment plan for maximum results",includes:["Unlimited consultations","6 Months medication","Premium WhatsApp Support","Diet + lifestyle guidance","Bi-monthly progress review","Custom booster plan"]},{id:"12-months",title:"1 Year Complete Plan",price:10999,summary:"Comprehensive year-long care with full support",includes:["Unlimited consultations","12 Months medication","VIP WhatsApp Support","Quarterly doctor review","Detailed progress monitoring","Personalized maintenance plan","Lifestyle & wellness program"]}];function m({plans:e,onSelect:r,selectedPlan:n}){return(0,t.jsx)("div",{className:"mt-6 grid grid-cols-2 gap-6 auto-rows-fr",children:(e||c).map(e=>{let i=n===e.id;return(0,t.jsxs)("div",{className:`relative bg-white rounded-2xl shadow-md border p-6 flex flex-col transition-all ${i?"border-blue-500 bg-blue-50 shadow-lg":"border-gray-200"}`,children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:e.title}),(0,t.jsxs)("span",{className:"text-xl font-bold",children:["₹",e.price]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:e.summary}),(0,t.jsx)("ul",{className:"mt-4 text-sm text-gray-700 space-y-2 flex-1",children:e.includes.map(e=>(0,t.jsxs)("li",{className:"flex gap-2",children:[(0,t.jsx)("span",{children:"✔"})," ",e]},e))}),(0,t.jsx)(d.Button,{className:"w-full mt-5 bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>{r(e)},children:"Add"})]},e.id)})})}var u=e.i(71616),p=e.i(17819),h=e.i(70193),g=e.i(51714);let x=(0,e.i(37127).default)("heart-pulse",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]]);var f=e.i(92348);function y(){let e=(0,i.useRouter)(),d=(0,a.useDispatch)(),{loading:c,error:y,registerAppointmentSuccess:j,verifyAppointmentSuccess:k,appointmentId:w}=(0,a.useSelector)(e=>e.appointment),[N,S]=(0,r.useState)({name:"",email:"",phone:"",region:"",disease:""}),[P,C]=(0,r.useState)(null),[A,T]=(0,r.useState)(null),[R,O]=(0,r.useState)(!1),[E,M]=(0,r.useState)(""),[D,z]=(0,r.useState)(!1),[L,I]=(0,r.useState)({}),[U,H]=(0,r.useState)(!1),[q,B]=(0,r.useState)(null),V=(0,r.useRef)(null),W=(0,r.useRef)(null);async function F(){console.log("sendOtp called from:",window.location.pathname);try{if(!j)return void alert("Registration not complete. Please wait.");if(!W.current)return void alert("Recaptcha not ready! Try again.");let e=N.phone.replace(/\D/g,"");if(10!==e.length)return void alert("Please enter a valid 10-digit phone number.");let t="+91"+e;console.log("Sending OTP to phone:",t);let r=await (0,s.signInWithPhoneNumber)(o.auth,t,W.current);T(r),z(!0),console.log("OTP sent successfully")}catch(e){console.log("SEND OTP ERROR:",e),console.log("Error code:",e.code),console.log("Error message:",e.message),alert("OTP sending failed. Try again.")}}async function Y(){console.log("verifyOtp called from:",window.location.pathname);try{if(!A)return void alert("OTP expired. Please resend.");console.log("Verifying OTP:",E),await A.confirm(E);let e=await o.auth.currentUser.getIdToken();console.log("Firebase verification successful, dispatching backend verify"),d((0,l.verifyAppointmentOtp)({phone:N.phone,idToken:e,appointmentId:w}))}catch(e){console.log("VERIFY ERROR",e),console.log("Error code:",e.code),console.log("Error message:",e.message),alert("Invalid OTP")}}return(0,r.useEffect)(()=>{B(null),I({}),O(!1),M(""),z(!1),d((0,l.clearApiState)())},[d]),(0,r.useEffect)(()=>{function e(e){V.current&&!V.current.contains(e.target)&&C(null)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,r.useEffect)(()=>{W.current||(W.current=new s.RecaptchaVerifier("recaptcha-container-appointment",{size:"invisible"},o.auth))},[]),(0,r.useEffect)(()=>{k&&(O(!1),H(!0))},[k]),(0,r.useEffect)(()=>{y&&(console.log("Appointment error occurred:",y),(U||R)&&alert(y),d((0,l.clearApiState)()))},[y,d,U,R]),(0,t.jsxs)(n.motion.div,{...{initial:{opacity:0,y:12},animate:{opacity:1,y:0}},id:"appointment-form",transition:{duration:.6},className:"max-w-3xl mx-auto bg-card/70 backdrop-blur-xl border border-border shadow-lg rounded-3xl p-6 md:p-8 mt-10",ref:V,children:[(0,t.jsx)("div",{id:"recaptcha-container-appointment"}),(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsxs)("h2",{className:"text-2xl md:text-3xl font-bold text-foreground flex justify-center gap-2",children:[(0,t.jsx)(x,{className:"text-primary"})," Book an ",(0,t.jsx)("span",{className:"text-primary",children:"Online"}),"Appointment"]}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:"Get a consultation with our doctor within 24 hours."})]}),!U&&(0,t.jsxs)("form",{onSubmit:function(e){let t;e.preventDefault(),t={},N.name.trim()||(t.name="Name is required"),N.email.trim()||(t.email="Email is required"),N.phone.trim()||(t.phone="Phone is required"),N.region||(t.region="Region is required"),N.disease||(t.disease="Condition is required"),I(t),0===Object.keys(t).length&&(d((0,l.registerAppointment)({name:N.name,email:N.email,phone:N.phone,region:N.region,condition:N.disease})),O(!0))},children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 relative",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(b,{icon:(0,t.jsx)(u.User,{size:18,className:"text-primary"}),label:"Name",name:"name",placeholder:"Your full name",value:N.name,onChange:e=>{S(t=>({...t,name:e.target.value})),L.name&&I(e=>({...e,name:void 0}))}}),L.name&&(0,t.jsx)("p",{className:"text-red-600 text-sm mt-1",children:L.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(b,{icon:(0,t.jsx)(p.Mail,{size:18,className:"text-primary"}),label:"Email",name:"email",type:"email",placeholder:"Your email",value:N.email,onChange:e=>{S(t=>({...t,email:e.target.value})),L.email&&I(e=>({...e,email:void 0}))}}),L.email&&(0,t.jsx)("p",{className:"text-red-600 text-sm mt-1",children:L.email})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(b,{icon:(0,t.jsx)(h.Phone,{size:18,className:"text-primary"}),label:"Phone",name:"phone",type:"tel",placeholder:"9999999999",value:N.phone,onChange:e=>{S(t=>({...t,phone:e.target.value})),L.phone&&I(e=>({...e,phone:void 0}))}}),L.phone&&(0,t.jsx)("p",{className:"text-red-600 text-sm mt-1",children:L.phone})]}),(0,t.jsxs)("div",{className:"flex flex-col relative",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-foreground mb-1",children:"Region"}),(0,t.jsxs)("button",{type:"button",onClick:()=>C("region"===P?null:"region"),className:"flex items-center justify-between bg-background border border-border px-3 py-2 rounded-xl w-full text-foreground",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(g.MapPin,{size:18,className:"text-primary"}),N.region||"Select Region"]}),(0,t.jsx)(f.ChevronDown,{size:16})]}),"region"===P&&(0,t.jsx)(v,{children:["India","Asia","Europe, Australia","USA, Canada","South America, Africa"].map(e=>(0,t.jsx)("div",{onClick:()=>{S({...N,region:e}),C(null),L.region&&I(e=>({...e,region:void 0}))},className:"px-3 py-2 hover:bg-secondary/15 rounded-lg cursor-pointer text-sm",children:e},e))}),L.region&&(0,t.jsx)("p",{className:"text-red-600 text-sm mt-1",children:L.region})]}),(0,t.jsxs)("div",{className:"md:col-span-2 flex flex-col relative",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-foreground mb-1",children:"Condition"}),(0,t.jsxs)("button",{type:"button",onClick:()=>C("disease"===P?null:"disease"),className:"flex items-center justify-between bg-background border border-border px-3 py-3 rounded-xl w-full text-foreground",children:[N.disease||"Select Condition",(0,t.jsx)(f.ChevronDown,{size:16})]}),"disease"===P&&(0,t.jsx)(v,{children:["Hair Fall","Respiratory","Skin Disorders","Gastrointestinal","Mental & Emotional Health","Musculoskeletal","ENT Problems","Women’s Health","Children’s Health","Chronic Conditions","Lifestyle-Related Problems","Obesity"].map(e=>(0,t.jsx)("div",{onClick:()=>{S({...N,disease:e}),C(null),L.disease&&I(e=>({...e,disease:void 0}))},className:"px-3 py-2 hover:bg-secondary/15 rounded-lg cursor-pointer text-sm",children:e},e))}),L.disease&&(0,t.jsx)("p",{className:"text-red-600 text-sm mt-1",children:L.disease})]})]}),(0,t.jsx)("div",{className:"mt-6 flex justify-center",children:(0,t.jsx)("button",{type:"submit",disabled:c,className:"px-6 py-3 rounded-xl bg-primary text-primary-foreground shadow-soft hover:bg-primary-dark transition disabled:opacity-50",children:c?"Processing...":"Next Step"})})]}),U&&(0,t.jsxs)("div",{className:"mt-8",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-center mb-6",children:"Choose Your Appointment Plan"}),(0,t.jsx)(m,{selectedPlan:q,onSelect:e=>{B(e.id);let t={amount:e.price,appointmentId:w,timestamp:Date.now()};localStorage.setItem("appointmentData",JSON.stringify(t))}}),q&&(0,t.jsx)("div",{className:"mt-6 flex justify-center",children:(0,t.jsx)("button",{onClick:()=>{H(!1),e.push("/payment-method")},className:"px-6 py-3 rounded-xl bg-primary text-primary-foreground shadow-soft hover:bg-primary-dark transition",children:"Proceed to Payment"})})]}),R&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-card p-6 rounded-2xl shadow-lg max-w-sm w-full mx-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-center mb-4",children:"Verify Your Phone"}),(0,t.jsxs)("p",{className:"text-center text-muted-foreground mb-4",children:["OTP will be sent to +91 ",N.phone]}),D?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{type:"text",className:"w-full border border-border bg-background px-3 py-2 rounded text-foreground text-center text-lg mb-4",placeholder:"Enter 6-digit OTP",value:E,onChange:e=>{let t=e.target.value.replace(/\D/g,"");t.length<=6&&M(t)},maxLength:6}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>O(!1),className:"flex-1 px-4 py-2 rounded-xl border border-border hover:bg-secondary/15 transition",children:"Cancel"}),(0,t.jsx)("button",{onClick:Y,disabled:c,className:"flex-1 px-4 py-2 rounded-xl bg-accent text-accent-foreground hover:bg-accent/80 transition disabled:opacity-50",children:c?"Verifying...":"Verify"})]})]}):(0,t.jsx)("button",{onClick:F,disabled:c||!j,className:"w-full px-4 py-2 rounded-xl bg-primary text-primary-foreground hover:bg-primary/80 transition disabled:opacity-50 mb-4",children:c?"Sending OTP...":"Send OTP"})]})})]})}function b({icon:e,label:r,name:n,setForm:i,value:a,onChange:o,...s}){return(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-foreground mb-1",children:r}),(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-background border border-border px-3 py-2 rounded-xl",children:[e,(0,t.jsx)("input",{name:n,value:a,onChange:o||(e=>i(t=>({...t,[n]:e.target.value}))),className:"bg-transparent w-full outline-none text-foreground",...s})]})]})}function v({children:e}){return(0,t.jsx)(n.motion.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:6},className:"   absolute top-full left-0    mt-2 z-40 w-full    bg-card/90 backdrop-blur-xl    border border-border    rounded-2xl shadow-xl    p-2    max-h-48 overflow-y-auto   ",children:e})}e.s(["default",()=>y],67533)}]);