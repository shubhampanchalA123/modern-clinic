module.exports=[41088,(a,b,c)=>{"use strict";b.exports=a.r(42466).vendored["react-ssr"].ReactDOM},85301,a=>{"use strict";let b=(0,a.i(98553).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["ChevronDown",()=>b],85301)},93907,a=>{"use strict";var b=a.i(55963),c=a.i(49990),d=a.i(20246);a.i(93267);var e=a.i(55679),f=a.i(91710),g=a.i(34035);a.i(33081);var h=a.i(64112),i=a.i(45654),j=a.i(44186);let k=[{id:"1-month",title:"1 Month Plan",price:1999,summary:"Starter plan for continuous treatment support",includes:["Doctor consultation","1 Month medication","Basic WhatsApp Support","Weekly follow-up check"]},{id:"3-months",title:"3 Months Plan (Recommended)",price:3499,summary:"Recommended for consistent improvement and monitoring",includes:["Unlimited doctor consultations","3 Months medication","Priority WhatsApp Support","Monthly progress analysis","Personalized treatment adjustments"]},{id:"6-months",title:"6 Months Plan",price:6499,summary:"Long-term treatment plan for maximum results",includes:["Unlimited consultations","6 Months medication","Premium WhatsApp Support","Diet + lifestyle guidance","Bi-monthly progress review","Custom booster plan"]},{id:"12-months",title:"1 Year Complete Plan",price:10999,summary:"Comprehensive year-long care with full support",includes:["Unlimited consultations","12 Months medication","VIP WhatsApp Support","Quarterly doctor review","Detailed progress monitoring","Personalized maintenance plan","Lifestyle & wellness program"]}];function l({plans:a,onSelect:c,selectedPlan:d}){return(0,b.jsx)("div",{className:"mt-6 grid grid-cols-2 gap-6 auto-rows-fr",children:(a||k).map(a=>{let e=d===a.id;return(0,b.jsxs)("div",{className:`relative bg-white rounded-2xl shadow-md border p-6 flex flex-col transition-all ${e?"border-blue-500 bg-blue-50 shadow-lg":"border-gray-200"}`,children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1",children:[(0,b.jsx)("h3",{className:"font-semibold text-lg",children:a.title}),(0,b.jsxs)("span",{className:"text-xl font-bold",children:["₹",a.price]})]}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:a.summary}),(0,b.jsx)("ul",{className:"mt-4 text-sm text-gray-700 space-y-2 flex-1",children:a.includes.map(a=>(0,b.jsxs)("li",{className:"flex gap-2",children:[(0,b.jsx)("span",{children:"✔"})," ",a]},a))}),(0,b.jsx)(j.Button,{className:"w-full mt-5 bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>{c(a)},children:"Add"})]},a.id)})})}var m=a.i(65003),n=a.i(13414),o=a.i(1370),p=a.i(42907);let q=(0,a.i(98553).default)("heart-pulse",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]]);var r=a.i(85301);function s(){let a=(0,e.useRouter)(),j=(0,f.useDispatch)(),{loading:k,error:s,registerAppointmentSuccess:v,verifyAppointmentSuccess:w,appointmentId:x}=(0,f.useSelector)(a=>a.appointment),[y,z]=(0,c.useState)({name:"",email:"",phone:"",region:"",disease:""}),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)(null),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)(""),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)({}),[M,N]=(0,c.useState)(!1),[O,P]=(0,c.useState)(null),Q=(0,c.useRef)(null),R=(0,c.useRef)(null);async function S(){console.log("sendOtp called from:","server");try{if(!v)return void alert("Registration not complete. Please wait.");if(!R.current)return void alert("Recaptcha not ready! Try again.");let a=y.phone.replace(/\D/g,"");if(10!==a.length)return void alert("Please enter a valid 10-digit phone number.");let b="+91"+a;console.log("Sending OTP to phone:",b);let c=await (0,h.signInWithPhoneNumber)(g.auth,b,R.current);D(c),J(!0),console.log("OTP sent successfully")}catch(a){console.log("SEND OTP ERROR:",a),console.log("Error code:",a.code),console.log("Error message:",a.message),alert("OTP sending failed. Try again.")}}async function T(){console.log("verifyOtp called from:","server");try{if(!C)return void alert("OTP expired. Please resend.");console.log("Verifying OTP:",G),await C.confirm(G);let a=await g.auth.currentUser.getIdToken();console.log("Firebase verification successful, dispatching backend verify"),j((0,i.verifyAppointmentOtp)({phone:y.phone,idToken:a,appointmentId:x}))}catch(a){console.log("VERIFY ERROR",a),console.log("Error code:",a.code),console.log("Error message:",a.message),alert("Invalid OTP")}}return(0,c.useEffect)(()=>{P(null),L({}),F(!1),H(""),J(!1),j((0,i.clearApiState)())},[j]),(0,c.useEffect)(()=>{function a(a){Q.current&&!Q.current.contains(a.target)&&B(null)}return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]),(0,c.useEffect)(()=>{R.current||(R.current=new h.RecaptchaVerifier("recaptcha-container-appointment",{size:"invisible"},g.auth))},[]),(0,c.useEffect)(()=>{w&&(F(!1),N(!0))},[w]),(0,c.useEffect)(()=>{s&&(console.log("Appointment error occurred:",s),(M||E)&&alert(s),j((0,i.clearApiState)()))},[s,j,M,E]),(0,b.jsxs)(d.motion.div,{...{initial:{opacity:0,y:12},animate:{opacity:1,y:0}},id:"appointment-form",transition:{duration:.6},className:"max-w-3xl mx-auto bg-card/70 backdrop-blur-xl border border-border shadow-lg rounded-3xl p-6 md:p-8 mt-10",ref:Q,children:[(0,b.jsx)("div",{id:"recaptcha-container-appointment"}),(0,b.jsxs)("div",{className:"text-center mb-6",children:[(0,b.jsxs)("h2",{className:"text-2xl md:text-3xl font-bold text-foreground flex justify-center gap-2",children:[(0,b.jsx)(q,{className:"text-primary"})," Book an ",(0,b.jsx)("span",{className:"text-primary",children:"Online"}),"Appointment"]}),(0,b.jsx)("p",{className:"text-muted-foreground mt-2",children:"Get a consultation with our doctor within 24 hours."})]}),!M&&(0,b.jsxs)("form",{onSubmit:function(a){let b;a.preventDefault(),b={},y.name.trim()||(b.name="Name is required"),y.email.trim()||(b.email="Email is required"),y.phone.trim()||(b.phone="Phone is required"),y.region||(b.region="Region is required"),y.disease||(b.disease="Condition is required"),L(b),0===Object.keys(b).length&&(j((0,i.registerAppointment)({name:y.name,email:y.email,phone:y.phone,region:y.region,condition:y.disease})),F(!0))},children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 relative",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(t,{icon:(0,b.jsx)(m.User,{size:18,className:"text-primary"}),label:"Name",name:"name",placeholder:"Your full name",value:y.name,onChange:a=>{z(b=>({...b,name:a.target.value})),K.name&&L(a=>({...a,name:void 0}))}}),K.name&&(0,b.jsx)("p",{className:"text-red-600 text-sm mt-1",children:K.name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(t,{icon:(0,b.jsx)(n.Mail,{size:18,className:"text-primary"}),label:"Email",name:"email",type:"email",placeholder:"Your email",value:y.email,onChange:a=>{z(b=>({...b,email:a.target.value})),K.email&&L(a=>({...a,email:void 0}))}}),K.email&&(0,b.jsx)("p",{className:"text-red-600 text-sm mt-1",children:K.email})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(t,{icon:(0,b.jsx)(o.Phone,{size:18,className:"text-primary"}),label:"Phone",name:"phone",type:"tel",placeholder:"9999999999",value:y.phone,onChange:a=>{z(b=>({...b,phone:a.target.value})),K.phone&&L(a=>({...a,phone:void 0}))}}),K.phone&&(0,b.jsx)("p",{className:"text-red-600 text-sm mt-1",children:K.phone})]}),(0,b.jsxs)("div",{className:"flex flex-col relative",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-foreground mb-1",children:"Region"}),(0,b.jsxs)("button",{type:"button",onClick:()=>B("region"===A?null:"region"),className:"flex items-center justify-between bg-background border border-border px-3 py-2 rounded-xl w-full text-foreground",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(p.MapPin,{size:18,className:"text-primary"}),y.region||"Select Region"]}),(0,b.jsx)(r.ChevronDown,{size:16})]}),"region"===A&&(0,b.jsx)(u,{children:["India","Asia","Europe, Australia","USA, Canada","South America, Africa"].map(a=>(0,b.jsx)("div",{onClick:()=>{z({...y,region:a}),B(null),K.region&&L(a=>({...a,region:void 0}))},className:"px-3 py-2 hover:bg-secondary/15 rounded-lg cursor-pointer text-sm",children:a},a))}),K.region&&(0,b.jsx)("p",{className:"text-red-600 text-sm mt-1",children:K.region})]}),(0,b.jsxs)("div",{className:"md:col-span-2 flex flex-col relative",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-foreground mb-1",children:"Condition"}),(0,b.jsxs)("button",{type:"button",onClick:()=>B("disease"===A?null:"disease"),className:"flex items-center justify-between bg-background border border-border px-3 py-3 rounded-xl w-full text-foreground",children:[y.disease||"Select Condition",(0,b.jsx)(r.ChevronDown,{size:16})]}),"disease"===A&&(0,b.jsx)(u,{children:["Hair Fall","Respiratory","Skin Disorders","Gastrointestinal","Mental & Emotional Health","Musculoskeletal","ENT Problems","Women’s Health","Children’s Health","Chronic Conditions","Lifestyle-Related Problems","Obesity"].map(a=>(0,b.jsx)("div",{onClick:()=>{z({...y,disease:a}),B(null),K.disease&&L(a=>({...a,disease:void 0}))},className:"px-3 py-2 hover:bg-secondary/15 rounded-lg cursor-pointer text-sm",children:a},a))}),K.disease&&(0,b.jsx)("p",{className:"text-red-600 text-sm mt-1",children:K.disease})]})]}),(0,b.jsx)("div",{className:"mt-6 flex justify-center",children:(0,b.jsx)("button",{type:"submit",disabled:k,className:"px-6 py-3 rounded-xl bg-primary text-primary-foreground shadow-soft hover:bg-primary-dark transition disabled:opacity-50",children:k?"Processing...":"Next Step"})})]}),M&&(0,b.jsxs)("div",{className:"mt-8",children:[(0,b.jsx)("h3",{className:"text-2xl font-bold text-center mb-6",children:"Choose Your Appointment Plan"}),(0,b.jsx)(l,{selectedPlan:O,onSelect:a=>{P(a.id);let b={amount:a.price,appointmentId:x,timestamp:Date.now()};localStorage.setItem("appointmentData",JSON.stringify(b))}}),O&&(0,b.jsx)("div",{className:"mt-6 flex justify-center",children:(0,b.jsx)("button",{onClick:()=>{N(!1),a.push("/payment-method")},className:"px-6 py-3 rounded-xl bg-primary text-primary-foreground shadow-soft hover:bg-primary-dark transition",children:"Proceed to Payment"})})]}),E&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-card p-6 rounded-2xl shadow-lg max-w-sm w-full mx-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-center mb-4",children:"Verify Your Phone"}),(0,b.jsxs)("p",{className:"text-center text-muted-foreground mb-4",children:["OTP will be sent to +91 ",y.phone]}),I?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("input",{type:"text",className:"w-full border border-border bg-background px-3 py-2 rounded text-foreground text-center text-lg mb-4",placeholder:"Enter 6-digit OTP",value:G,onChange:a=>{let b=a.target.value.replace(/\D/g,"");b.length<=6&&H(b)},maxLength:6}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>F(!1),className:"flex-1 px-4 py-2 rounded-xl border border-border hover:bg-secondary/15 transition",children:"Cancel"}),(0,b.jsx)("button",{onClick:T,disabled:k,className:"flex-1 px-4 py-2 rounded-xl bg-accent text-accent-foreground hover:bg-accent/80 transition disabled:opacity-50",children:k?"Verifying...":"Verify"})]})]}):(0,b.jsx)("button",{onClick:S,disabled:k||!v,className:"w-full px-4 py-2 rounded-xl bg-primary text-primary-foreground hover:bg-primary/80 transition disabled:opacity-50 mb-4",children:k?"Sending OTP...":"Send OTP"})]})})]})}function t({icon:a,label:c,name:d,setForm:e,value:f,onChange:g,...h}){return(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-foreground mb-1",children:c}),(0,b.jsxs)("div",{className:"flex items-center gap-2 bg-background border border-border px-3 py-2 rounded-xl",children:[a,(0,b.jsx)("input",{name:d,value:f,onChange:g||(a=>e(b=>({...b,[d]:a.target.value}))),className:"bg-transparent w-full outline-none text-foreground",...h})]})]})}function u({children:a}){return(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:6},className:"   absolute top-full left-0    mt-2 z-40 w-full    bg-card/90 backdrop-blur-xl    border border-border    rounded-2xl shadow-xl    p-2    max-h-48 overflow-y-auto   ",children:a})}a.s(["default",()=>s],93907)}];

//# sourceMappingURL=HairGrowth-Clinic_8dd219d6._.js.map