module.exports=[76774,a=>{"use strict";var b=a.i(55963),c=a.i(49990),d=a.i(93267),e=a.i(55679),f=a.i(91710);function g({step:a=0,healthIssue:c="hair fall"}){let d="hair fall"===c?Math.round(a/4*100):100*(0!==a);return(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"flex-1 hidden md:block"}),(0,b.jsx)("div",{className:"   flex gap-3    overflow-x-auto    no-scrollbar    max-w-full    py-1   ",children:["About You","Hair Health","Internal Health","Scalp Assessment","Plan Selection"].map((d,e)=>"hair fall"!==c&&e>0&&e<4?null:(0,b.jsx)("div",{className:`
                  px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap
                  ${e<=a?"bg-primary/20 text-foreground":"bg-muted text-muted-foreground"}
                `,children:d},d))}),(0,b.jsxs)("div",{className:"flex-1 text-right text-sm text-muted-foreground hidden md:block",children:[d,"%"]})]}),(0,b.jsx)("div",{className:"mt-4 w-full",children:(0,b.jsx)("div",{className:"h-2 bg-muted rounded-full",children:(0,b.jsx)("div",{className:"h-2 bg-primary rounded-full transition-all",style:{width:`${d}%`}})})}),(0,b.jsxs)("div",{className:"md:hidden text-right text-xs text-muted-foreground mt-1",children:[d,"%"]})]})}function h({question:a,options:c=[],value:d,onChange:e}){return(0,b.jsxs)("div",{className:"p-6 bg-card rounded-2xl border border-border shadow-soft",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-4",children:a}),(0,b.jsx)("div",{className:"space-y-4",children:c.map((c,f)=>(0,b.jsxs)("label",{className:"flex items-center gap-4 cursor-pointer",children:[(0,b.jsx)("input",{type:"radio",name:a,checked:d===c,onChange:()=>e(c),className:"form-radio text-primary h-4 w-4"}),(0,b.jsx)("span",{className:"text-foreground",children:c})]},f))})]})}function i({file:a,onChange:d}){let e=(0,c.useRef)(null),[f,g]=(0,c.useState)(null);function h(a){let b=a.target.files?.[0];b&&d(b)}return(0,c.useEffect)(()=>{if(a){let b=URL.createObjectURL(a);return g(b),()=>URL.revokeObjectURL(b)}g(null)},[a]),(0,b.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,b.jsx)("div",{className:"w-48 h-48 rounded-xl bg-muted flex items-center justify-center overflow-hidden shadow-soft border border-border",children:f?(0,b.jsx)("img",{src:f,alt:"preview",className:"object-cover w-full h-full"}):(0,b.jsx)("div",{className:"text-center text-muted-foreground",children:"No photo yet"})}),(0,b.jsxs)("div",{className:"flex gap-3 w-full justify-center",children:[(0,b.jsxs)("label",{className:"inline-flex items-center justify-center px-6 py-3 border border-border bg-card rounded text-sm cursor-pointer hover:bg-muted transition",children:["Upload Scalp Photo",(0,b.jsx)("input",{ref:e,type:"file",accept:"image/*",style:{display:"none"},onChange:h})]}),(0,b.jsxs)("label",{className:"inline-flex items-center justify-center px-6 py-3 bg-primary text-primary-foreground rounded text-sm cursor-pointer hover:opacity-90 transition shadow-soft",children:["Take a Picture",(0,b.jsx)("input",{type:"file",accept:"image/*",capture:"environment",style:{display:"none"},onChange:h})]})]}),f&&(0,b.jsx)("div",{className:"flex gap-3",children:(0,b.jsx)("button",{onClick:function(){d(null),e.current&&(e.current.value=null)},className:"px-4 py-2 bg-card border border-border rounded shadow-soft text-sm hover:bg-muted transition",children:"Remove"})})]})}var j=a.i(44186);let k=[{id:"quick",title:"Quick Consult",price:499,summary:"15 min video consult + basic plan",includes:["Doctor review","1 follow-up chat"]},{id:"standard",title:"Standard Care",price:1499,summary:"30 min consult + 4-week plan",includes:["Personal Rx","2 follow-ups"]},{id:"comprehensive",title:"Comprehensive Remote",price:3999,summary:"Detailed digital diagnosis + 3 month support",includes:["AI-assisted report","Monthly doctor reviews"]}];function l({plans:a,onSelect:c,selectedPlan:d}){return(0,b.jsx)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-6",children:(a||k).map(a=>{let e=d===a.id;return(0,b.jsxs)("div",{className:`relative bg-white rounded-2xl shadow-md border p-6 flex flex-col transition-all ${e?"border-blue-500 bg-blue-50 shadow-lg":"border-gray-200"}`,children:[e&&(0,b.jsx)("div",{className:"absolute top-3 right-3 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-white text-sm",children:"✓"})}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("h3",{className:"font-semibold text-lg",children:a.title}),(0,b.jsxs)("span",{className:"text-xl font-bold",children:["₹",a.price]})]}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:a.summary}),(0,b.jsx)("ul",{className:"mt-4 text-sm text-gray-700 space-y-2 flex-1",children:a.includes.map(a=>(0,b.jsxs)("li",{className:"flex gap-2",children:[(0,b.jsx)("span",{children:"✔"})," ",a]},a))}),(0,b.jsx)(j.Button,{className:"w-full mt-5 bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>c(a),children:"Book"})]},a.id)})})}var m=a.i(34035);a.i(33081);var n=a.i(64112),o=a.i(42907),p=a.i(85301),q=a.i(2256);function r(){let a=(0,e.useRouter)(),j=(0,f.useDispatch)(),{loading:k,error:r,registerSuccess:s,verifySuccess:t,submitSuccess:u,createOrderSuccess:v,orderDetails:w,consultantId:x}=(0,f.useSelector)(a=>a.register);console.log("Register State:",{loading:k,error:r,registerSuccess:s,verifySuccess:t,submitSuccess:u,consultantId:x});let[y,z]=(0,c.useState)(0),[A,B]=(0,c.useState)({}),[C,D]=(0,c.useState)({name:"",phone:"",age:"",region:"",gender:"",healthIssue:"hair fall",stage:null,hair:{},internal:{},scalpPhoto:null,plan:"",planPrice:0}),[E,F]=(0,c.useState)(null),[G,H]=(0,c.useState)(null),I=(0,c.useRef)(null),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)(!1),[N,O]=(0,c.useState)("");async function P(){try{if(!I.current)return void alert("Recaptcha not ready! Try again.");let a="+91"+C.phone,b=await (0,n.signInWithPhoneNumber)(m.auth,a,I.current);H(b),M(!0)}catch(a){console.log("SEND OTP ERROR:",a),alert("OTP sending failed. Try again.")}}async function Q(){try{if(!G)return void alert("OTP expired. Please resend.");await G.confirm(N);let a=await m.auth.currentUser.getIdToken();j((0,q.verifyUser)({mobile:C.phone,idToken:a,consultantId:x}))}catch(a){console.log("VERIFY ERROR",a),alert("Invalid OTP")}}function R(){let a={};return 0===y&&(C.name.trim()||(a.name="Name is required"),C.phone.trim()||(a.phone="Phone is required"),C.age||(a.age="Age is required"),C.gender||(a.gender="Gender is required"),C.region||(a.region="Region is required")),1===y&&null===C.stage&&(a.stage="Please choose your stage"),3!==y||C.scalpPhoto||(a.scalpPhoto="Scalp photo is required"),4!==y||C.plan||(a.plan="Please select a plan"),B(a),0===Object.keys(a).length}function S(a,b){D(c=>({...c,[a]:b}))}function T(a,b,c){D(d=>({...d,[a]:{...d[a],[b]:c}}))}(0,c.useEffect)(()=>{I.current||(I.current=new n.RecaptchaVerifier("recaptcha-container",{size:"invisible"},m.auth))},[]),(0,c.useEffect)(()=>{s&&x&&(console.log("Registration successful! ConsultantId:",x),localStorage.setItem("consultantId",x),P())},[s,x]),(0,c.useEffect)(()=>{t&&(K(!1),z("hair fall"===C.healthIssue?1:4),window.scrollTo({top:0,behavior:"smooth"}),j((0,q.clearApiState)()))},[t,C.healthIssue]),(0,c.useEffect)(()=>{if(u){let a=x||localStorage.getItem("consultantId");j((0,q.createOrder)({consultantId:a,amount:C.planPrice})),j((0,q.clearApiState)())}},[u]),(0,c.useEffect)(()=>{if(v&&w){let b=new URLSearchParams({orderId:w.orderId,amount:w.amount,currency:w.currency,key:w.key,consultantId:x||localStorage.getItem("consultantId")});a.push(`/payment-method/online?${b.toString()}`),j((0,q.clearApiState)())}},[v,w]),(0,c.useEffect)(()=>{r&&(alert(r),j((0,q.clearApiState)()))},[r]);let U=C.gender||"male",V=({children:a})=>(0,b.jsx)("div",{className:"absolute top-full left-0 w-full mt-2 bg-card border border-border shadow-lg rounded-xl p-2 z-20",children:a});return(0,b.jsx)("div",{className:"min-h-screen py-8 bg-background-soft",children:(0,b.jsxs)("main",{className:"max-w-4xl mx-auto px-6",children:[(0,b.jsx)("div",{id:"recaptcha-container"}),(0,b.jsxs)("div",{className:"flex justify-between mb-4 text-sm text-muted-foreground",children:[y>0?(0,b.jsx)("button",{onClick:function(){1===y?z(0):2===y?z(1):3===y?z(2):4===y&&("hair fall"===C.healthIssue?z(3):z(0)),window.scrollTo({top:0,behavior:"smooth"})},children:"← Previous"}):(0,b.jsx)("span",{}),(0,b.jsx)(d.default,{href:"/",className:"hover:text-accent",children:"Exit"})]}),(0,b.jsx)(g,{step:y,healthIssue:C.healthIssue}),(0,b.jsxs)("div",{className:"bg-card mt-6 rounded-2xl shadow-soft border border-border p-6",children:[0===y&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h2",{className:"text-4xl text-center font-bold mb-8 text-foreground",children:"Tell us about you"}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"font-medium text-foreground",children:"Full Name"}),(0,b.jsx)("input",{className:"w-full border border-border bg-background px-3 py-2 rounded mt-1 text-foreground",value:C.name,onChange:a=>S("name",a.target.value)}),A.name&&(0,b.jsx)("p",{className:"text-red-600 text-sm mt-1",children:A.name})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"font-medium text-foreground",children:"Phone Number"}),(0,b.jsx)("input",{className:"w-full border border-border bg-background px-3 py-2 rounded mt-1 text-foreground",value:C.phone,onChange:a=>S("phone",a.target.value)}),A.phone&&(0,b.jsx)("p",{className:"text-red-600 text-sm mt-1",children:A.phone})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"font-medium text-foreground",children:"Age"}),(0,b.jsx)("input",{type:"number",className:"w-full border border-border bg-background px-3 py-2 rounded mt-1 text-foreground",value:C.age,onChange:a=>S("age",a.target.value)}),A.age&&(0,b.jsx)("p",{className:"text-red-600 text-sm mt-1",children:A.age})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"font-medium text-foreground",children:"Gender"}),(0,b.jsx)("div",{className:"flex gap-3 mt-2",children:["male","female"].map(a=>(0,b.jsx)("button",{onClick:()=>S("gender",a),className:`px-5 py-2 rounded border 
                        ${C.gender===a?"bg-primary text-primary-foreground":"bg-muted text-foreground border-border"}`,children:a.toUpperCase()},a))}),A.gender&&(0,b.jsx)("p",{className:"text-red-600 text-sm mt-1",children:A.gender})]}),(0,b.jsxs)("div",{className:"flex flex-col relative mt-4",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-foreground mb-1",children:"Region"}),(0,b.jsxs)("button",{type:"button",onClick:()=>F("region"===E?null:"region"),className:"flex items-center justify-between bg-background border border-border px-3 py-2 rounded-xl w-full text-foreground",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(o.MapPin,{size:18,className:"text-primary"}),C.region||"Select Region"]}),(0,b.jsx)(p.ChevronDown,{size:16,className:"text-muted-foreground"})]}),"region"===E&&(0,b.jsx)(V,{children:["India","Asia","Europe, Australia","USA, Canada","South America, Africa"].map(a=>(0,b.jsx)("div",{onClick:()=>{S("region",a),F(null)},className:"px-3 py-2 hover:bg-secondary/15 rounded-lg cursor-pointer text-sm text-foreground",children:a},a))}),A.region&&(0,b.jsx)("p",{className:"text-red-600 text-sm mt-1",children:A.region})]}),(0,b.jsxs)("div",{className:"flex flex-col relative mt-4",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-foreground mb-1",children:"Health Issue"}),(0,b.jsxs)("button",{type:"button",onClick:()=>F("health"===E?null:"health"),className:"flex items-center justify-between bg-background border border-border px-3 py-2 rounded-xl w-full text-foreground",children:[(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsx)("span",{children:C.healthIssue||"Select Health Issue"})}),(0,b.jsx)(p.ChevronDown,{size:16,className:"text-muted-foreground"})]}),"health"===E&&(0,b.jsx)(V,{children:["Hair Fall","Respiratory","Skin Disorders","Gastrointestinal","Mental & Emotional Health","Musculoskeletal","ENT Problems","Women’s Health","Children’s Health","Chronic Conditions","Lifestyle-Related Problems","Obesity"].map(a=>(0,b.jsx)("div",{onClick:()=>{S("healthIssue",a.toLowerCase()),F(null)},className:"px-3 py-2 hover:bg-secondary/15 rounded-lg cursor-pointer text-sm text-foreground",children:a},a))})]})]}),1===y&&"hair fall"===C.healthIssue&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h2",{className:"text-4xl text-center font-bold mb-8 text-foreground",children:"Hair Health"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:({male:[{id:0,label:"Stage 1 (Mild)",img:"/images/stages/male-stage1.png"},{id:1,label:"Stage 2 (Moderate)",img:"/images/stages/male-stage2.png"},{id:2,label:"Stage 3 (Severe)",img:"/images/stages/male-stage3.png"}],female:[{id:0,label:"Stage 1 (Mild)",img:"/images/stages/female-stage1.png"},{id:1,label:"Stage 2 (Moderate)",img:"/images/stages/female-stage2.png"},{id:2,label:"Stage 3 (Severe)",img:"/images/stages/female-stage3.png"}]})[U].map(a=>(0,b.jsxs)("div",{onClick:()=>S("stage",a.id),className:`rounded-xl border p-4 cursor-pointer transition
                      ${C.stage===a.id?"ring-2 ring-primary bg-primary/10":"border-border bg-muted"}`,children:[(0,b.jsx)("img",{src:a.img,className:"w-full mb-3 rounded"}),(0,b.jsx)("p",{className:"font-medium text-foreground",children:a.label})]},a.id))}),A.stage&&(0,b.jsx)("p",{className:"text-red-600 text-sm mt-2",children:A.stage}),(0,b.jsx)("div",{className:"mt-6 space-y-6",children:[{id:"family",q:"Do you have a family history of hair loss?",options:["Mother or mother's side","Father or father's side","Both","None"]},{id:"dandruff",q:"Do you have Dandruff?",options:["No Dandruff","Mild Dandruff","Heavy Dandruff","Psoriasis / Seborrheic Dermatitis"]}].map(a=>(0,b.jsx)(h,{question:a.q,options:a.options,value:C.hair[a.id],onChange:b=>T("hair",a.id,b)},a.id))})]}),2===y&&"hair fall"===C.healthIssue&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h2",{className:"text-4xl text-center font-bold mb-8 text-foreground",children:"Internal Health"}),(0,b.jsx)("div",{className:"space-y-6",children:[{id:"sleep",q:"How well do you sleep?",options:["Peacefully 6-8 hours","Disturbed sleep","Difficulty sleeping"]},{id:"stress",q:"How stressed are you?",options:["None","Low","Moderate","High"]},{id:"constipation",q:"Do you feel constipated?",options:["No","Yes (fewer than 3 stools/week)","Unsatisfied after stools","IBS"]},{id:"gas",q:"Gas, Acidity, or Bloating?",options:["No","Sometimes","Often"]},{id:"energy",q:"How is your energy during the day?",options:["Normal","Low in morning","Low afternoon","Low evening","Always low"]},{id:"supplements",q:"Are you taking supplements?",options:["Yes","No"]}].map(a=>(0,b.jsx)(h,{question:a.q,options:a.options,value:C.internal[a.id],onChange:b=>T("internal",a.id,b)},a.id))})]}),3===y&&"hair fall"===C.healthIssue&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold text-center mb-4 text-foreground",children:"Upload your scalp picture"}),(0,b.jsx)(i,{file:C.scalpPhoto,onChange:a=>S("scalpPhoto",a)}),A.scalpPhoto&&(0,b.jsx)("p",{className:"text-red-600 text-sm mt-2",children:A.scalpPhoto})]}),4===y&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h2",{className:"text-4xl text-center font-bold mb-8 text-foreground",children:"Choose Your Plan"}),(0,b.jsx)(l,{selectedPlan:C.plan,onSelect:a=>{S("plan",a.id),S("planPrice",a.price)}}),A.plan&&(0,b.jsx)("p",{className:"text-red-600 text-sm mt-4 text-center",children:A.plan})]}),(0,b.jsx)("div",{className:"flex justify-end mt-6",children:y<4?(0,b.jsx)("button",{onClick:function(){if(R()){if(0===y){j((0,q.registerUser)({name:C.name,mobile:C.phone,age:C.age,gender:C.gender,region:C.region,healthIssue:C.healthIssue})),K(!0);return}z(a=>a+1),window.scrollTo({top:0,behavior:"smooth"})}},disabled:k,className:"px-6 py-2 bg-primary text-primary-foreground rounded shadow-soft hover:bg-primary-dark disabled:opacity-50",children:k?"Processing...":"Next →"}):(0,b.jsx)("button",{onClick:function(){if(!R())return;let a=x||localStorage.getItem("consultantId");if(!a){alert("Please complete registration and verification first"),z(0);return}let b={hairHealth:{stage:C.stage,familyHistory:C.hair?.family||"",dandruff:C.hair?.dandruff||"",selectedStage:C.stage},internalHealth:C.internal||{},scalpAssessment:{scalpPhoto:C.scalpPhoto?.name||null},plan:C.plan};j((0,q.submitData)({consultantId:a,consultationData:b,scalpPhoto:C.scalpPhoto}))},className:"px-6 py-2 bg-accent text-accent-foreground rounded shadow-soft hover:bg-accent/80",children:"Proceed to Payment"})})]}),J&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-xl w-full max-w-md",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-center mb-4",children:"Verify Your Phone"}),(0,b.jsx)("p",{className:"text-center text-gray-600 text-sm mb-2",children:"OTP will be sent to:"}),(0,b.jsxs)("p",{className:"text-center font-medium mb-4",children:["+91 ",C.phone]}),L?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("input",{type:"text",className:"w-full border px-3 py-2 rounded mb-3",placeholder:"Enter OTP",value:N,onChange:a=>O(a.target.value)}),(0,b.jsx)("button",{onClick:Q,disabled:k,className:"w-full bg-primary text-white py-2 rounded-lg disabled:opacity-50",children:k?"Verifying...":"Verify OTP"})]}):(0,b.jsx)("div",{className:"text-center text-gray-500",children:"Sending OTP..."}),(0,b.jsx)("button",{onClick:()=>{K(!1),M(!1),O("")},className:"mt-4 w-full text-center text-gray-500 text-sm",children:"Cancel"})]})})]})})}a.s(["default",()=>r],76774)}];

//# sourceMappingURL=HairGrowth-Clinic_app_HairGrowth_register_page_jsx_083ba3f0._.js.map