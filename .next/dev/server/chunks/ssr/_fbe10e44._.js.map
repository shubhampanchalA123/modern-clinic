{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/Jai%20Shree%20Ram/Modern%20Technology/Hair%20Transplant/HairGrowth-Clinic/HairGrowth-Clinic/app/videos/fetchVideos.js"],"sourcesContent":["// app/videos/fetchVideos.js\r\n\"use server\";\r\n\r\nexport async function resolveChannelIdFromHandle(handle) {\r\n  // handle example: \"@ModernHealthNutrition\" or \"ModernHealthNutrition\"\r\n  const cleaned = handle.startsWith(\"@\") ? handle.slice(1) : handle;\r\n  const url = `https://www.youtube.com/@${cleaned}`;\r\n\r\n  try {\r\n    const res = await fetch(url, { headers: { \"User-Agent\": \"Mozilla/5.0\" } });\r\n    if (!res.ok) return null;\r\n    const html = await res.text();\r\n\r\n    // 1) Try meta itemprop channelId\r\n    const metaMatch = html.match(/<meta itemprop=\"channelId\" content=\"(UC[0-9A-Za-z_-]+)\"/i);\r\n    if (metaMatch) return metaMatch[1];\r\n\r\n    // 2) Try JSON auth data \"channelId\":\"UC...\"\r\n    const jsonMatch = html.match(/\"channelId\":\"(UC[0-9A-Za-z_-]+)\"/i);\r\n    if (jsonMatch) return jsonMatch[1];\r\n\r\n    // 3) Try canonical link to /channel/UC...\r\n    const linkMatch = html.match(/<link rel=\"canonical\" href=\"https:\\/\\/www\\.youtube\\.com\\/channel\\/(UC[0-9A-Za-z_-]+)\"/i);\r\n    if (linkMatch) return linkMatch[1];\r\n\r\n    return null;\r\n  } catch (err) {\r\n    console.error(\"resolveChannelIdFromHandle error\", err);\r\n    return null;\r\n  }\r\n}\r\n\r\nexport async function fetchVideosFromChannel({ channelId, handle, limit = 24 }) {\r\n  // prefer explicit channelId if provided\r\n  let chId = channelId || null;\r\n\r\n  if (!chId && handle) {\r\n    chId = await resolveChannelIdFromHandle(handle);\r\n  }\r\n\r\n  if (!chId) {\r\n    throw new Error(\"Channel ID not found. Provide `channelId` or valid `handle`.\");\r\n  }\r\n\r\n  // Fetch RSS\r\n  const rssUrl = `https://www.youtube.com/feeds/videos.xml?channel_id=${chId}`;\r\n  const res = await fetch(rssUrl, { next: { revalidate: 3600 } }); // cache 1 hour\r\n  if (!res.ok) throw new Error(\"Failed to fetch YouTube RSS feed.\");\r\n\r\n  const xml = await res.text();\r\n\r\n  // Parse entries via regex (simple, robust for the YouTube feed format)\r\n  const entries = [...xml.matchAll(/<entry>([\\s\\S]*?)<\\/entry>/g)].slice(0, limit);\r\n\r\n  const videos = entries.map((m) => {\r\n    const block = m[1];\r\n\r\n    const titleMatch = block.match(/<title>([\\s\\S]*?)<\\/title>/);\r\n    const title = titleMatch ? titleMatch[1].trim() : \"Untitled\";\r\n\r\n    const videoIdMatch = block.match(/<yt:videoId>(.*?)<\\/yt:videoId>/);\r\n    const videoId = videoIdMatch ? videoIdMatch[1].trim() : null;\r\n\r\n    const linkMatch = block.match(/<link rel=\"alternate\" href=\"(.*?)\"/);\r\n    const link = linkMatch ? linkMatch[1] : (videoId ? `https://www.youtube.com/watch?v=${videoId}` : null);\r\n\r\n    const publishedMatch = block.match(/<published>(.*?)<\\/published>/);\r\n    const published = publishedMatch ? publishedMatch[1] : null;\r\n\r\n    // Thumbnail: prefer media:thumbnail, else fallback to ytimg\r\n    const thumbMatch = block.match(/<media:thumbnail url=\"(.*?)\"/);\r\n    const thumbnail = thumbMatch ? thumbMatch[1] : (videoId ? `https://i.ytimg.com/vi/${videoId}/hqdefault.jpg` : null);\r\n\r\n    // Determine a short description - sometimes feed has media:description\r\n    const descMatch = block.match(/<media:description.*?>([\\s\\S]*?)<\\/media:description>/);\r\n    const description = descMatch ? descMatch[1].trim() : \"\";\r\n\r\n    return {\r\n      videoId,\r\n      title,\r\n      link,\r\n      published,\r\n      thumbnail,\r\n      description,\r\n    };\r\n  });\r\n\r\n  return { channelId: chId, videos };\r\n}\r\n"],"names":[],"mappings":"AAAA,4BAA4B;;;;;;;;;;;;AAGrB,eAAe,2BAA2B,MAAM;IACrD,sEAAsE;IACtE,MAAM,UAAU,OAAO,UAAU,CAAC,OAAO,OAAO,KAAK,CAAC,KAAK;IAC3D,MAAM,MAAM,CAAC,yBAAyB,EAAE,SAAS;IAEjD,IAAI;QACF,MAAM,MAAM,MAAM,MAAM,KAAK;YAAE,SAAS;gBAAE,cAAc;YAAc;QAAE;QACxE,IAAI,CAAC,IAAI,EAAE,EAAE,OAAO;QACpB,MAAM,OAAO,MAAM,IAAI,IAAI;QAE3B,iCAAiC;QACjC,MAAM,YAAY,KAAK,KAAK,CAAC;QAC7B,IAAI,WAAW,OAAO,SAAS,CAAC,EAAE;QAElC,4CAA4C;QAC5C,MAAM,YAAY,KAAK,KAAK,CAAC;QAC7B,IAAI,WAAW,OAAO,SAAS,CAAC,EAAE;QAElC,0CAA0C;QAC1C,MAAM,YAAY,KAAK,KAAK,CAAC;QAC7B,IAAI,WAAW,OAAO,SAAS,CAAC,EAAE;QAElC,OAAO;IACT,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,oCAAoC;QAClD,OAAO;IACT;AACF;AAEO,eAAe,uBAAuB,EAAE,SAAS,EAAE,MAAM,EAAE,QAAQ,EAAE,EAAE;IAC5E,wCAAwC;IACxC,IAAI,OAAO,aAAa;IAExB,IAAI,CAAC,QAAQ,QAAQ;QACnB,OAAO,MAAM,2BAA2B;IAC1C;IAEA,IAAI,CAAC,MAAM;QACT,MAAM,IAAI,MAAM;IAClB;IAEA,YAAY;IACZ,MAAM,SAAS,CAAC,oDAAoD,EAAE,MAAM;IAC5E,MAAM,MAAM,MAAM,MAAM,QAAQ;QAAE,MAAM;YAAE,YAAY;QAAK;IAAE,IAAI,eAAe;IAChF,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAE7B,MAAM,MAAM,MAAM,IAAI,IAAI;IAE1B,uEAAuE;IACvE,MAAM,UAAU;WAAI,IAAI,QAAQ,CAAC;KAA+B,CAAC,KAAK,CAAC,GAAG;IAE1E,MAAM,SAAS,QAAQ,GAAG,CAAC,CAAC;QAC1B,MAAM,QAAQ,CAAC,CAAC,EAAE;QAElB,MAAM,aAAa,MAAM,KAAK,CAAC;QAC/B,MAAM,QAAQ,aAAa,UAAU,CAAC,EAAE,CAAC,IAAI,KAAK;QAElD,MAAM,eAAe,MAAM,KAAK,CAAC;QACjC,MAAM,UAAU,eAAe,YAAY,CAAC,EAAE,CAAC,IAAI,KAAK;QAExD,MAAM,YAAY,MAAM,KAAK,CAAC;QAC9B,MAAM,OAAO,YAAY,SAAS,CAAC,EAAE,GAAI,UAAU,CAAC,gCAAgC,EAAE,SAAS,GAAG;QAElG,MAAM,iBAAiB,MAAM,KAAK,CAAC;QACnC,MAAM,YAAY,iBAAiB,cAAc,CAAC,EAAE,GAAG;QAEvD,4DAA4D;QAC5D,MAAM,aAAa,MAAM,KAAK,CAAC;QAC/B,MAAM,YAAY,aAAa,UAAU,CAAC,EAAE,GAAI,UAAU,CAAC,uBAAuB,EAAE,QAAQ,cAAc,CAAC,GAAG;QAE9G,uEAAuE;QACvE,MAAM,YAAY,MAAM,KAAK,CAAC;QAC9B,MAAM,cAAc,YAAY,SAAS,CAAC,EAAE,CAAC,IAAI,KAAK;QAEtD,OAAO;YACL;YACA;YACA;YACA;YACA;YACA;QACF;IACF;IAEA,OAAO;QAAE,WAAW;QAAM;IAAO;AACnC;;;IArFsB;IA6BA;;AA7BA,+OAAA;AA6BA,+OAAA","debugId":null}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///E:/Jai%20Shree%20Ram/Modern%20Technology/Hair%20Transplant/HairGrowth-Clinic/HairGrowth-Clinic/.next-internal/server/app/videos/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {fetchVideosFromChannel as '40110edb1e969a5958847ae787e3f55849d70e85a3'} from 'ACTIONS_MODULE0'\nexport {resolveChannelIdFromHandle as '40530df599d4af1353adc7660c91b43f8f18496591'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}}]
}